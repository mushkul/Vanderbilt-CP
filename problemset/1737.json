{"Title": "Range Queries and Copies", "Category": "Range Queries", "Time Limit": "1.00 s", "Memory Limit": "512 MB", "Description": "Your task is to maintain a list of arrays which initially has a single array. You have to process the following types of queries: \n \nSet the value a in array k to x.\nCalculate the sum of values in range [a,b] in array k.\nCreate a copy of array k and add it to the end of the list.\n \n", "Input Specification": "\n The first input line has two integers n and q: the array size and the number of queries. \n The next line has n integers t_1,t_2,\\ldots,t_n: the initial contents of the array. \n Finally, there are q lines describing the queries. The format of each line is one of the following: \"1 k a x\", \"2 k a b\" or \"3 k\". \n", "Output Specification": "\n Print the answer to each sum query. \n", "Constraints": "1 \\le n, q \\le 2 \\cdot 10^5\n1 \\le t_i, x \\le 10^9\n1 \\le a \\le b \\le n", "Example Input": "5 6\n2 3 1 2 5\n3 1\n2 1 1 5\n2 2 1 5\n1 2 2 5\n2 1 1 5\n2 2 1 5", "Example Output": "13\n13\n13\n15", "Number": 1737}